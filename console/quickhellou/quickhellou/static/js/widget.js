/*! For license information please see widget.js.LICENSE.txt */
!function(){var e={"../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":function(e,t,n){"use strict";function r(e,t,n,r,o,s,i){try{var u=e[s](i),a=u.value}catch(e){return void n(e)}u.done?t(a):Promise.resolve(a).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,s){var i=e.apply(t,n);function u(e){r(i,o,s,u,a,"next",e)}function a(e){r(i,o,s,u,a,"throw",e)}u(void 0)}))}}n.r(t),n.d(t,{default:function(){return o}})},"../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/createClass.js":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t),n.d(t,{default:function(){return o}})},"../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/inherits.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.default)(e,t)}},"../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":function(e,t,n){"use strict";function r(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,s=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return s}}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n("../../node_modules/@babel/runtime/helpers/esm/typeof.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");function s(e,t){return!t||"object"!==(0,r.default)(t)&&"function"!=typeof t?(0,o.default)(e):t}},"../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n("../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function u(e,t){return(0,r.default)(e)||(0,o.default)(e,t)||(0,s.default)(e,t)||(0,i.default)()}},"../../node_modules/@babel/runtime/helpers/esm/typeof.js":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,{default:function(){return r}})},"../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function o(e,t){if(e){if("string"==typeof e)return(0,r.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}},"../../node_modules/@babel/runtime/regenerator/index.js":function(e,t,n){e.exports=n("../../node_modules/regenerator-runtime/runtime.js")},"./js/com/genb/base/controller/ObservableController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ObservableController:function(){return i}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./js/com/genb/base/service/EventEmitter.js"),i=function(){function e(){(0,r.default)(this,e),this.observable=new s.EventEmitter}return(0,o.default)(e,[{key:"addListener",value:function(e,t){this.observable.addListener(e,t)}},{key:"removeListener",value:function(e,t){this.observable.removeListener(e,t)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.observable).emit.apply(t,[e].concat(r))}}]),e}()},"./js/com/genb/base/controller/UIView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{UIView:function(){return d}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),a=n("./js/com/genb/base/controller/ObservableController.js"),c=n("./js/com/genb/base/utils/HTMLUtils.js");function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=l(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"uiGet",value:function(e){return c.HTMLUtils.get(e)}},{key:"uiExists",value:function(e){return c.HTMLUtils.exists(e)}},{key:"uiArray",value:function(e){return c.HTMLUtils.array(e)}},{key:"removeListeners",value:function(e){var t=this.uiGet(e),n=t.cloneNode(!0);t.parentNode.replaceChild(n,t)}}]),n}(a.ObservableController)},"./js/com/genb/base/service/EventEmitter.js":function(e,t,n){"use strict";n.r(t),n.d(t,{EventEmitter:function(){return s}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=function(){function e(){(0,r.default)(this,e),this.listeners=new Map}return(0,o.default)(e,[{key:"addListener",value:function(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}},{key:"removeListener",value:function(e,t){var n,r=this,o=this.listeners.get(e);return!!(o&&o.length&&(n=o.reduce((function(e,n,o){return r.isFunction(n)&&n===t?e=o:e}),-1))>-1)&&(o.splice(n,1),this.listeners.set(e,o),!0)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.listeners.get(e);return!(!o||!o.length)&&(o.forEach((function(e){e.apply(void 0,n)})),!0)}},{key:"isFunction",value:function(e){return"function"==typeof e||!1}}]),e}()},"./js/com/genb/base/service/FormService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{FormService:function(){return m}});var r=n("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("./js/com/genb/base/service/EventEmitter.js"),l=n("../../node_modules/js-cookie/src/js.cookie.js"),d=n.n(l);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,i.default)(n,e);var t=f(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"getAsXMLHttpRequest",value:function(e){return this.sendAsXMLHttpRequest("GET",[],e)}},{key:"postAsXMLHttpRequest",value:function(e,t){return this.sendAsXMLHttpRequest("POST",e,t)}},{key:"sendAsXMLHttpRequest",value:function(e,t,n){for(var o=new FormData,s=0,i=Object.entries(t);s<i.length;s++){var u=(0,r.default)(i[s],2),a=u[0],c=u[1];o.append(a,c)}return new Promise((function(t,r){var s=new XMLHttpRequest;s.open(e,n,!0),s.addEventListener("load",(function(){[200,201].includes(s.status)&&t(s.responseText),r(s.responseText)}));var i=d().get("csrftoken");"undefined"!==i&&s.setRequestHeader("X-CSRFToken",i),s.send(o)}))}},{key:"sendAsXMLHttpFormEncodedRequest",value:function(e,t){var n="";return e.forEach((function(e){n="".concat(n).concat(e.name,"=").concat(e.value,"&")})),new Promise((function(e){var r=new XMLHttpRequest;r.open("POST",t,!0),r.addEventListener("load",(function(){e(r.responseText)})),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(n)}))}},{key:"sendAsForm",value:function(e,t){var n='<form id="__form__" action=\''.concat(t,'\' method="POST" enctype="multipart/form-data">');e.forEach((function(e){n+='<input type="hidden" name="'.concat(e.name,"\" value='").concat(e.value,"'>")})),n+="</form>",document.body.insertAdjacentHTML("beforeend",n),document.getElementById("__form__").submit()}}]),n}(c.EventEmitter)},"./js/com/genb/base/utils/BaseUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,{BaseUtils:function(){return s}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"log",value:function(e){console.log(e)}}],[{key:"isObjectDefined",value:function(e){try{return null!=e}catch(e){return!1}}},{key:"isPage",value:function(t){var n=document.querySelector("meta[property='emd:page']");return!!e.isObjectDefined(n)&&n.attributes.content.value===t}},{key:"hostname",get:function(){return window.location.hostname}}]),e}()},"./js/com/genb/base/utils/HTMLUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,{HTMLUtils:function(){return i}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./js/com/genb/base/utils/BaseUtils.js"),i=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,null,[{key:"get",value:function(e){var t=document.querySelector(e);return s.BaseUtils.isObjectDefined(t)||console.warn('HTMLUtils::get Element "'.concat(e,'" is not defined.')),t}},{key:"exists",value:function(e){var t=document.querySelector(e);return s.BaseUtils.isObjectDefined(t)}},{key:"getForm",value:function(){return e.get("form")}},{key:"getValueByName",value:function(e){return this.get('*[name="'.concat(e,'"]')).value}},{key:"getInputByName",value:function(e){return this.get('input[name="'.concat(e,'"]'))}},{key:"getInputByClassName",value:function(e){return this.get("input.".concat(e))}},{key:"getSelectByName",value:function(e){return this.get('select[name="'.concat(e,'"]'))}},{key:"getSelectByClassName",value:function(e){return this.get("select.".concat(e))}},{key:"getInputValueByName",value:function(e){return this.getInputByName(e).value}},{key:"getCheckboxValueByName",value:function(e){return this.getInputByName(e).checked?"true":"false"}},{key:"setInputValueByName",value:function(e,t){var n=this.getInputByName(e);s.BaseUtils.isObjectDefined(n)?n.value=t:console.warn("setInputValueByName:: Element '".concat(e,"' is not defined."))}},{key:"getSelectValueByName",value:function(e){return this.getSelectByName(e).value}},{key:"getSelectTextByName",value:function(e){return this.getSelectByName(e).selectedOptions[0].text}},{key:"setSelectValueByName",value:function(e,t){var n=this.getSelectByName(e);s.BaseUtils.isObjectDefined(n)?n.value=t:console.warn("setSelectValueByName:: Element '".concat(e,"' is not defined."))}},{key:"getInputValueByClassName",value:function(e){return this.getInputByClassName(e).value}},{key:"getSelectValueByClassName",value:function(e){return this.getSelectByClassName(e).value}},{key:"list",value:function(e){var t=document.querySelectorAll(e);return s.BaseUtils.isObjectDefined(t)||console.warn('Elements "'.concat(e,'" are not defined.')),t}},{key:"array",value:function(t){return Array.from(e.list(t))}},{key:"firstToHTMLElement",value:function(e){if(e.length>0)return e[0]}},{key:"activate",value:function(t){var n=e.get(t);e.activateElement(n)}},{key:"activateElement",value:function(e){console.log("activateElement",e),e.classList.add("js-active")}},{key:"deactivate",value:function(t){var n=e.get(t);e.deactivateElement(n)}},{key:"deactivateElement",value:function(e){console.log("deactivateElement",e),e.classList.remove("js-active")}},{key:"copyToClipboard",value:function(e){function t(t){t.clipboardData.setData("text/html",e),t.clipboardData.setData("text/plain",e),t.preventDefault()}document.addEventListener("copy",t),document.execCommand("copy"),document.removeEventListener("copy",t)}},{key:"decodeHtml",value:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}}]),e}()},"./js/com/quickhellou/base/model/ApplicationSettings.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ApplicationSettings:function(){return s}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=function(){function e(t){(0,r.default)(this,e),this.objs=JSON.parse(t),this.videoAppUrl=this.getValue("video_app_url"),this.consoleAppUrl=this.getValue("console_app_url"),this.webSocketServiceUrl=this.getValue("ws_service_url"),this.adminEmailAddress=this.getValue("admin_email_address")}return(0,o.default)(e,[{key:"getValue",value:function(e){return this.objs.filter((function(t){return t.property===e}))[0].value}}]),e}()},"./js/com/quickhellou/base/model/ComSessionStatus.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ComSessionStatus:function(){return o}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=function e(){(0,r.default)(this,e)};o.STATUS_PENDING=1,o.STATUS_ENQUEUED=2,o.STATUS_MISSED=3,o.STATUS_CANCELLED=4,o.STATUS_REJECTED=5,o.STATUS_ACCEPTED=6,o.STATUS_COMPLETED=7},"./js/com/quickhellou/base/model/UserType.js":function(e,t,n){"use strict";n.r(t),n.d(t,{UserType:function(){return o}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=function e(){(0,r.default)(this,e)};o.ADMIN="admin",o.GUEST="guest"},"./js/com/quickhellou/base/services/ApiService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ApiService:function(){return d}});var r=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),a=n("./js/com/genb/base/service/FormService.js"),c=n("./js/com/quickhellou/base/model/ComSessionStatus.js");function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=l(n);function n(e){var o;return(0,r.default)(this,n),(o=t.call(this)).baseUrl=e,o}return(0,o.default)(n,[{key:"getCurrentUser",value:function(){return this.getJson("".concat(this.baseUrl,"/api/users/current/"))}},{key:"getSettings",value:function(){return this.getJson("".concat(this.baseUrl,"/api/settings/"))}},{key:"getUserById",value:function(e){return this.getJson("".concat(this.baseUrl,"/api/users/").concat(e,"/"))}},{key:"getWidgetById",value:function(e){return this.getJson("".concat(this.baseUrl,"/api/widgets/").concat(e,"/"))}},{key:"getCommunicationRecord",value:function(e){return this.getJson("".concat(this.baseUrl,"/api/communications/").concat(e,"/"))}},{key:"getJson",value:function(e){return this.getAsXMLHttpRequest("".concat(e,"?format=json"))}},{key:"createCall",value:function(e,t){var n={caller_name:e,widget_uuid:t};return this.postAsXMLHttpRequest(n,"".concat(this.baseUrl,"/api/communications/"))}},{key:"cancelCall",value:function(e){return this.getAsXMLHttpRequest("".concat(this.baseUrl,"/api/communications/cancel/").concat(e,"/"))}},{key:"getUuid",value:function(e){return this.getAsXMLHttpRequest("".concat(this.baseUrl,"/api/comSessions/room-uuid/").concat(e))}},{key:"setComSessionAsAccepted",value:function(e){return this.setComSessionStatus(e,c.ComSessionStatus.STATUS_ACCEPTED)}},{key:"setComSessionAsRejected",value:function(e){return this.setComSessionStatus(e,c.ComSessionStatus.STATUS_REJECTED)}},{key:"setComSessionAsCancelled",value:function(e){return this.setComSessionStatus(e,c.ComSessionStatus.STATUS_CANCELLED)}},{key:"setComSessionAsCompleted",value:function(e){return this.setComSessionStatus(e,c.ComSessionStatus.STATUS_COMPLETED)}},{key:"setComSessionAsEnqueued",value:function(e){return this.setComSessionStatus(e,c.ComSessionStatus.STATUS_ENQUEUED)}},{key:"setComSessionStatus",value:function(e,t){return this.getAsXMLHttpRequest("".concat(this.baseUrl,"/api/comSessions/status/").concat(e,"/").concat(t))}},{key:"getPendingSessions",value:function(){return this.getAsXMLHttpRequest("".concat(this.baseUrl,"/api/comSessions/pending/1"))}}]),n}(a.FormService)},"./js/com/quickhellou/base/services/WebSocketService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{WebSocketService:function(){return h}});var r=n("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../../node_modules/@babel/runtime/regenerator/index.js"),l=n.n(c),d=n("./js/com/genb/base/service/FormService.js"),f=n("./js/com/quickhellou/base/model/UserType.js");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var h=function(e){(0,i.default)(u,e);var t,n=m(u);function u(e){var t;return(0,o.default)(this,u),(t=n.call(this)).url=e,t.isOpen=!1,t.openWebSocketConnection(),t}return(0,s.default)(u,[{key:"openWebSocketConnection",value:function(){var e=this;return new Promise((function(t){e.websocket=new WebSocket(e.url),e.websocket.onopen=function(){e.isOpen=!0,e.attachWebSocketEventHandlers(),t()},e.websocket.onerror=function(t){3===t.currentTarget.readyState&&e.emit("connection_failure")}}))}},{key:"attachWebSocketEventHandlers",value:function(){var e=this;this.websocket.onmessage=function(t){e.handleMessageResponse(t.data)},this.websocket.onclose=function(){e.isOpen=!1}}},{key:"handleMessageResponse",value:function(e){if(""!==e){var t=JSON.parse(e);if(""===t.error){if(""!==t.msg){var n=JSON.parse(t.msg);switch(n.type){case"response":this.handleNamedResponse(n.body);break;case"list-clients":this.emit("listUsers",n.body);break;case"send":this.handleNamedResponse(n.body);break;default:console.log("Response type not found.")}}}else this.emit("error",t.error)}}},{key:"handleNamedResponse",value:function(e){if(""!==e){var t="string"==typeof e?JSON.parse(e):e;switch(t.name){case"register":this.emit("register",t.status);break;case u.REQUEST_CALL:this.emit("callRequest",t.user,t.widget);break;case u.CANCEL_CALL:this.emit("callCancel",t.record);break;case u.ACCEPT_CALL_REQUEST:this.emit("callAccepted",t.uuid);break;case u.REJECT_CALL_REQUEST:this.emit("callRejected");break;case u.SEND_COMMUNICATION_RECORD:this.emit("communicationRecord",t.record);break;default:console.log("No named response found.")}}}},{key:"registerList",value:function(e,t,n){var r=this;n.forEach((function(n){r.register(e,t,n.id)}))}},{key:"registerAdminList",value:function(e,t){t=t.filter((function(e){return!0===e.is_installed})),this.registerList(e,f.UserType.ADMIN,t)}},{key:"deregisterList",value:function(e,t){var n=this;t.forEach((function(t){n.deregister(e,t.id)}))}},{key:"register",value:function(e,t,n){this.sendWebSocketMessage({cmd:"register",clientid:e,clienttype:t,roomid:n})}},{key:"registerAdmin",value:function(e,t){this.register(e,f.UserType.ADMIN,t)}},{key:"registerGuest",value:function(e,t){this.register(e,f.UserType.GUEST,t)}},{key:"deregister",value:function(e,t){this.sendWebSocketMessage({cmd:"deregister",clientid:e,roomid:t})}},{key:"send",value:function(e,t){this.sendWebSocketMessage({cmd:u.SEND,clientid:e.uuid,roomid:e.client_board_id,msg:t})}},{key:"sendToOther",value:function(e,t,n,r){this.sendWebSocketMessage({cmd:"send-to-other",clientid:e,roomid:n,otherid:t,msg:r})}},{key:"listClients",value:function(e,t,n){this.sendWebSocketMessage({cmd:"list-clients",clientid:e,clienttype:t,roomid:n})}},{key:"listGuests",value:function(e,t){this.listClients(e,f.UserType.GUEST,t)}},{key:"listAdmins",value:function(e,t){this.listClients(e,f.UserType.ADMIN,t)}},{key:"requestCall",value:function(e,t,n){this.sendToOther(e,t,n,JSON.stringify({type:"send",body:{name:u.REQUEST_CALL,user:e,widget:n}}))}},{key:"cancelCall",value:function(e,t,n){this.sendWebSocketMessage({cmd:u.SEND,clientid:e,clienttype:f.UserType.GUEST,roomid:t,msg:JSON.stringify({type:"send",body:{name:u.CANCEL_CALL,user:e,widget:t,record:n}})})}},{key:"acceptCallRequest",value:function(e,t,n,r){this.sendToOther(e,t,n,JSON.stringify({type:"send",body:{name:u.ACCEPT_CALL_REQUEST,uuid:r}}))}},{key:"rejectCallRequest",value:function(e,t,n){this.sendToOther(e,t,n,JSON.stringify({type:"send",body:{name:u.REJECT_CALL_REQUEST}}))}},{key:"passCommunicationRecord",value:function(e,t,n,r){this.sendToOther(e,t,n,JSON.stringify({type:"send",body:{name:u.SEND_COMMUNICATION_RECORD,record:r}}))}},{key:"sendWebSocketMessage",value:(t=(0,r.default)(l().mark((function e(t){var n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],this.isOpen){e.next=4;break}return e.next=4,this.openWebSocketConnection();case 4:t.roomtype="client_board",t.persistant=String(n),this.websocket.send(JSON.stringify(t));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),u}(d.FormService);h.SEND="send",h.REQUEST_CALL="request-call",h.CANCEL_CALL="cancel-call",h.ACCEPT_CALL_REQUEST="accept-call-request",h.REJECT_CALL_REQUEST="reject-call-request",h.SEND_COMMUNICATION_RECORD="send-communication-record"},"./js/com/quickhellou/widget/WidgetExtensionView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{WidgetExtensionView:function(){return f}});var r=n("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../../node_modules/@babel/runtime/regenerator/index.js"),l=n.n(c);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var f=function(e){(0,i.default)(u,e);var t,n=d(u);function u(e){var t;return(0,o.default)(this,u),(t=n.call(this)).service=e,t.isExpanded=!1,t}return(0,s.default)(u,[{key:"init",value:(t=(0,r.default)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.service.addListener("listUsers",(function(e){t.updateVideoCallUi(e.length>0)})),this.service.addListener("callAccepted",(function(e){t.onCallAccepted(e)})),this.service.addListener("callRejected",(function(){t.onCallRejected()})),this.uiGet(".button--video-call").addEventListener("click",(function(){t.requestCall()})),this.uiGet(".button--cancel-video-call").addEventListener("click",(function(){t.cancelCall()})),this.uiGet(".widget-closer").addEventListener("click",(function(){t.collapseView()})),this.initContactForm();case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"initContactForm",value:function(){var e=this;this.uiGet(".widget-extension__button.submit").addEventListener("click",(function(){e.sendContactForm()}))}},{key:"sendContactForm",value:function(){var e={email:document.querySelector("input[name=email]").value,phone:document.querySelector("input[name=phone]").value,message:document.querySelector("textarea[name=message]").value};this.service.sendContactForm(e).then((function(e){document.querySelector(".contact-form").innerHTML=e})).catch((function(e){console.log("reason",e)}))}},{key:"toggleView",value:function(){this.isExpanded?this.collapseView():this.expandView()}},{key:"expandView",value:function(){this.isExpanded=!0,window.parent.document.getElementById("qh_e_frame").classList.add("js-expanded")}},{key:"collapseView",value:function(){this.isExpanded=!1,window.parent.document.getElementById("qh_e_frame").classList.remove("js-expanded")}},{key:"updateVideoCallUi",value:function(e){this.uiGet(".video-ui").classList.toggle("js-enabled",e),e||this.activateCallDefaultStage()}},{key:"requestCall",value:function(){this.service.requestCall(),this.activateCallRequestStage()}},{key:"cancelCall",value:function(){this.service.cancelCall(),this.activateCallDefaultStage()}},{key:"onCallAccepted",value:function(e){var t=this.uiGet(".iu-view__video-app-url");t.innerHTML=t.href=e,this.activateCallAcceptedStage()}},{key:"onCallRejected",value:function(){this.activateCallDefaultStage()}},{key:"activateCallDefaultStage",value:function(){this.deactivateAllStages(),this.uiGet(".ui-view__stage--default").classList.add("js-enabled")}},{key:"activateCallRequestStage",value:function(){this.deactivateAllStages(),this.uiGet(".ui-view__stage--call-request").classList.add("js-enabled")}},{key:"activateCallAcceptedStage",value:function(){this.deactivateAllStages(),this.uiGet(".ui-view__stage--call-accepted").classList.add("js-enabled")}},{key:"deactivateAllStages",value:function(){this.uiArray(".video-ui__stage").forEach((function(e){e.classList.remove("js-enabled")}))}}]),u}(n("./js/com/genb/base/controller/UIView.js").UIView)},"./js/com/quickhellou/widget/WidgetService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{WidgetService:function(){return v}});var r=n("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../../node_modules/@babel/runtime/regenerator/index.js"),l=n.n(c),d=n("./js/com/genb/base/service/EventEmitter.js"),f=n("./js/com/quickhellou/base/services/WebSocketService.js"),m=n("./js/com/quickhellou/base/services/ApiService.js"),h=n("./js/com/quickhellou/base/model/ApplicationSettings.js");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var v=function(e){(0,i.default)(c,e);var t,n,u,a=p(c);function c(e,t){var n;return(0,o.default)(this,c),(n=a.call(this)).apiService=new m.ApiService(e),n.consoleAppUrl=e,n.widgetId=t,n.users=[],n}return(0,s.default)(c,[{key:"init",value:(u=(0,r.default)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.apiService.getSettings().then((function(r){t.appSettings=new h.ApplicationSettings(r);try{t.apiService.getWidgetById(t.widgetId).then((function(r){t.widget=JSON.parse(r),t.install().then((function(r){var o=JSON.parse(r);"failure"===o.status&&n(o.result),t.webSocketService=new f.WebSocketService(t.appSettings.webSocketServiceUrl),t.webSocketService.addListener("register",(function(e){t.onUserRegister(e)})),t.webSocketService.addListener("listUsers",(function(e){t.onListUsers(e)})),t.webSocketService.addListener("callAccepted",(function(e){t.onCallAccepted(e)})),t.webSocketService.addListener("callRejected",(function(){t.onCallRejected()})),t.webSocketService.addListener("communicationRecord",(function(e){t.onCommunicationRecord(e)})),t.user={uuid:"guest_"+String(Math.floor(Date.now()/1e3)),roomId:t.widget.uuid},t.webSocketService.registerGuest(t.user.uuid,t.widget.uuid),e()}))}))}catch(e){console.log(e)}}))})));case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"requestCall",value:function(){var e=this.admins[0];this.webSocketService.requestCall(this.user.uuid,e,this.widget.uuid)}},{key:"cancelCall",value:function(){this.webSocketService.cancelCall(this.user.uuid,this.widget.uuid,this.sessionRecord.id)}},{key:"onUserRegister",value:function(e){"ok"===e&&this.webSocketService.listAdmins(this.user.uuid,this.widget.uuid)}},{key:"onListUsers",value:function(e){this.admins=e,this.emit("listUsers",e)}},{key:"onCallAccepted",value:(n=(0,r.default)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="".concat(this.appSettings.videoAppUrl,"/r/").concat(t),this.emit("callAccepted",n);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onCallRejected",value:function(){this.emit("callRejected")}},{key:"onCommunicationRecord",value:function(e){this.sessionRecord=e}},{key:"sendContactForm",value:function(e){var t="".concat(this.consoleAppUrl,"/dashboard/widget_extension_embed/").concat(this.widgetId,"/").concat(encodeURIComponent(window.location.hostname.toLowerCase()),"/").concat(this.widget.uuid);return this.apiService.postAsXMLHttpRequest(e,t)}},{key:"install",value:(t=(0,r.default)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.consoleAppUrl,"/dashboard/install/").concat(this.widgetId,"/").concat(encodeURIComponent(window.location.hostname.toLowerCase()),"/").concat(this.widget.uuid),e.abrupt("return",this.apiService.postAsXMLHttpRequest({},t));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),c}(d.EventEmitter)},"./js/com/quickhellou/widget/WidgetView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{WidgetView:function(){return f}});var r=n("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../../node_modules/@babel/runtime/regenerator/index.js"),l=n.n(c);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var f=function(e){(0,i.default)(u,e);var t,n=d(u);function u(e){var t;return(0,o.default)(this,u),(t=n.call(this)).service=e,t}return(0,s.default)(u,[{key:"init",value:(t=(0,r.default)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.service.addListener("listUsers",(function(e){t.onListUsers(e)})),this.uiGet(".widget_base").addEventListener("click",(function(){t.extensionView.toggleView()}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onUserRegister",value:function(e){"ok"===e&&this.webSocketService.listAdmins(this.user.uuid,this.widget.uuid)}},{key:"onListUsers",value:function(e){this.uiGet(".widget-outlook__alert-text").innerHTML=e.length}},{key:"setDefaultIcon",value:function(){this.uiGet(".widget-outlook__icon img").src=this.defaultIconSource}},{key:"setCallRequestIcon",value:function(){this.uiGet(".widget-outlook__icon img").src="/static/images/call-request.svg"}},{key:"setCallAcceptedIcon",value:function(){this.uiGet(".widget-outlook__icon img").src="/static/images/call-accepted.svg"}},{key:"setExtension",value:function(e){this.extensionView=e}}]),u}(n("./js/com/genb/base/controller/UIView.js").UIView)},"../../node_modules/js-cookie/src/js.cookie.js":function(e,t,n){var r,o;!function(s){if(void 0===(o="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=s(),!!0){var i=window.Cookies,u=window.Cookies=s();u.noConflict=function(){return window.Cookies=i,u}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},o.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var a in s)s[a]&&(u+="; "+a,!0!==s[a]&&(u+="="+s[a].split(";")[0]));return document.cookie=t+"="+n+u}}function i(e,n){if("undefined"!=typeof document){for(var o={},s=document.cookie?document.cookie.split("; "):[],i=0;i<s.length;i++){var u=s[i].split("="),a=u.slice(1).join("=");n||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var c=t(u[0]);if(a=(r.read||r)(a,c)||t(a),n)try{a=JSON.parse(a)}catch(e){}if(o[c]=a,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=s,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,n){s(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},"../../node_modules/regenerator-runtime/runtime.js":function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,s=Object.create(o.prototype),i=new R(r||[]);return s._invoke=function(e,t,n){var r=d;return function(o,s){if(r===m)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw s;return T()}for(n.method=o,n.arg=s;;){var i=n.delegate;if(i){var u=_(i,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var a=l(e,t,n);if("normal"===a.type){if(r=n.done?h:f,a.arg===p)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=h,n.method="throw",n.arg=a.arg)}}}(e,n,i),s}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",m="executing",h="completed",p={};function v(){}function y(){}function b(){}var g={};g[s]=function(){return this};var S=Object.getPrototypeOf,k=S&&S(S(A([])));k&&k!==n&&r.call(k,s)&&(g=k);var j=b.prototype=v.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,s,i,u){var a=l(e[o],e,s);if("throw"!==a.type){var c=a.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,u)}),(function(e){n("throw",e,i,u)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,u)}))}u(a.arg)}var o;this._invoke=function(e,r){function s(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(s,s):s()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:T}}function T(){return{value:t,done:!0}}return y.prototype=j.constructor=b,b.constructor=y,y.displayName=a(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,a(e,u,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},C(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var i=new w(c(t,n,r,o),s);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(j),a(j,u,"Generator"),j[s]=function(){return this},j.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.r(r);var e=n("./js/com/quickhellou/widget/WidgetService.js"),t=n("./js/com/quickhellou/widget/WidgetView.js"),o=n("./js/com/quickhellou/widget/WidgetExtensionView.js"),s=document.querySelector(".qh-root").dataset.url,i=document.querySelector(".qh-root").dataset.id,u=new e.WidgetService(s,i);u.init().then((function(){var e=new t.WidgetView(u);e.init();var n=new o.WidgetExtensionView(u);n.init(),e.setExtension(n),document.querySelector(".qh-root").classList.add("active")})).catch((function(e){document.querySelector(".qh-root").style.opacity=1,document.querySelector(".qh-root").innerHTML=e}))}()}();
//# sourceMappingURL=widget.js.map